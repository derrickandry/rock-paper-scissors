
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Rock Paper Scissors</title>
</head>
<body>

    <script>
        function computerPlay(){
            let options = ["rock", "scissors", "paper"];
            return options[parseInt(Math.random()*3)];
        }
        function playerSelection(){
            let playerPrompt = prompt('Rock, paper, or scissors?');
            let playerInput = playerPrompt.toLocaleLowerCase();
            
            if (playerInput !== "rock" && playerInput !== "paper" && playerInput !== "scissors") {
                    alert("Pick properly!");
                    return playerSelection();
                        } 
            else { 
                    return playerInput;
            }
        }

        function playRound(playerSelection, computerSelection, myCountobj){
            playerSelection = playerSelection.toLowerCase();
            let options = ["rock", "scissors", "paper"];
            if (playerSelection == computerSelection) return "It's a draw!";
            
            if (playerSelection == "rock"){
                if (computerSelection == "scissors"){
                    myCountobj.win +=1;
                    return "You win! Rock beats scissors";
                }
                else {
                    myCountobj.lose+=1;
                    return "You lost! Paper beats rock";
                }
            }

            if (playerSelection == "paper"){
                if (computerSelection == "rock") {
                    myCountobj.win +=1;
                    return "You win! Paper beats rock";
                } 
                else {
                    myCountobj.lose+=1;
                    return "You lost! Scissors beats paper";
                }
            }

            if (playerSelection == "scissors"){
                if (computerSelection == "paper"){
                    myCountobj.win +=1;
                    return "You win! Scissors beats paper";
                } 
                else{
                    myCountobj.lose+=1;
                    return "You lost! Rock beats scissors";
                } 
            }
        }

        function game(){
            let myCountobj = {win: 0, lose:0};
            for(i=0; i<5; i++){
                let playerselection = playerSelection();
                console.log(playRound(playerselection, computerPlay(), myCountobj));
            }
            if(myCountobj.win>myCountobj.lose){
                console.log("You beat the computer!")
            }
            else if(myCountobj.win<myCountobj.lose){
                console.log("Sorry you lost!")
            }
            else{
                console.log("It's a draw!")
            }
        }
        game();
        
    </script>

</body>
</html>